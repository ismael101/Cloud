(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){e.exports=a(155)},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(106),i=a(27),s=a(5),u=a.n(s),p=a(7),m=a(16),d=a(17),h=a(19),f=a(18),E=a(20),g=a(28),v=a.n(g),y=function(){return function(e){e({type:"EMPTY_FILE"})}},b=function(){return function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"USER_LOGOUT"})}catch(a){}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},O=a(169),w=a(158),k=a(96),x=a(159),j=a(160),I=a(35),_=a.n(I),R=(a(51),function(e){var t=e.file.type.slice(e.file.type.indexOf("/")+1,e.file.type.length),a=e.file.name.slice(0,e.file.type.indexOf(t));_.a.init({duration:1e3});return r.a.createElement(O.a,{className:"my-5",style:{borderRadius:"25px"},border:"info","data-aos":"zoom-in"},r.a.createElement(O.a.Body,null,r.a.createElement(w.a,{className:"align-items-center text-center"},r.a.createElement(k.a,null,a),r.a.createElement(k.a,null,(e.file.size/1e6).toFixed(2)+" mb"),r.a.createElement(k.a,null,t.toUpperCase()),r.a.createElement(k.a,null,new Date(e.file.createdAt).toDateString()),r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"outline-success",onClick:function(){e.download(e.file._id,e.file.name)},className:"text-center"},r.a.createElement("i",{className:"material-icons"},"arrow_downward")),r.a.createElement(j.a,{variant:"outline-danger",onClick:function(){e.delete(e.file._id,e.file.name)}},r.a.createElement("i",{className:"material-icons"},"delete")))))))}),C=a(26),N=a(54),F=a.n(N),S=a(62),T=a(61),L=a(170),A=a(165),D=function(e){var t=Object(T.a)({accept:"application/* , audio/* , .pdf , .docx",multiple:!0}),a=t.acceptedFiles,n=t.rejectedFiles,l=t.getRootProps,c=t.getInputProps,o=r.a.useState(!1),i=Object(S.a)(o,2),s=i[0],m=i[1],d=function(){var t=Object(p.a)(u.a.mark(function t(r){var l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=new FormData,r.forEach(function(e){l.append("files",e)}),e.upload(l),a.length=0,n.length=0,m(!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(u.a.mark(function e(t,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.length=0,n.length=0,m(!1);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),f=a.map(function(e){return r.a.createElement(L.a.Item,{variant:"primary",key:e.name},e.name," Accepted")}),E=n.map(function(e){return r.a.createElement(L.a.Item,{variant:"danger",key:e.name},e.name," Rejected")});return r.a.createElement("div",null,r.a.createElement(j.a,{variant:"outline-light",style:{borderRadius:"25px"},onClick:function(){m(!0)}},"Upload"),r.a.createElement(A.a,{show:s,onHide:h,centered:!0},r.a.createElement(A.a.Header,null,r.a.createElement("h2",null,"Upload")),r.a.createElement(A.a.Body,null,r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("div",Object.assign({},l({className:"dropzone"}),{style:{height:"200px",border:"4px dashed lightblue",borderRadius:"25px"}}),r.a.createElement("input",c()),r.a.createElement("i",{className:"material-icons",style:{fontSize:"100px",marginLeft:"175px",marginTop:"45px"}},"cloud_upload")),r.a.createElement("div",{className:"my-1"},r.a.createElement(L.a,null,f)),r.a.createElement("div",null,r.a.createElement(L.a,{className:"my-1"},E))))),r.a.createElement(A.a.Footer,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"primary",onClick:function(){d(a,n)}},"Upload"),r.a.createElement(j.a,{variant:"danger",onClick:function(){h(a,n)}},"Cancel")))))},U=a(166),z=a(164),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleDownload=function(){var e=Object(p.a)(u.a.mark(function e(t,n){var r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/files/".concat(t),{headers:{Authorization:"Bearer ".concat(a.props.token)}});case 3:r=e.sent,l=r.blob(),F()(l,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleUpload=function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.createFile(a.props.token,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(p.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{window.confirm("Do you want to delete this file: ",{name:n})&&a.props.deleteFile(a.props.token,t)}catch(r){console.log(r)}case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={show:!1,setShow:!1},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.props.loggedIn?(this.props.fetchFiles(this.props.token),this.props.error&&(this.props.emptyFile(),this.props.userLogout(),this.props.history.push("/"))):this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=[];this.props.error||(t=this.props.files.map(function(t){return r.a.createElement(R,{file:t,key:t._id,download:e.handleDownload,delete:e.handleDelete})}));return r.a.createElement("div",null,r.a.createElement(U.a,{bg:"primary",variant:"dark",className:"my-5",style:{borderRadius:"25px"}},r.a.createElement(U.a.Brand,null,"Files"),r.a.createElement(U.a.Toggle,null),r.a.createElement(U.a.Collapse,{className:"justify-content-end"},r.a.createElement(z.a,{inline:!0},r.a.createElement(D,{upload:this.handleUpload})))),r.a.createElement(A.a,{show:this.state.show,onHide:this.handleClose,centered:!0},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Upload File")),r.a.createElement(A.a.Body,null),r.a.createElement(A.a.Footer,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"primary",onClick:this.handleClose},"Upload"),r.a.createElement(j.a,{variant:"danger",onClick:this.handleClose},"Cancel")))),r.a.createElement(w.a,{className:"text-center"},r.a.createElement(k.a,null,r.a.createElement("h5",null,"Name")),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Size")),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Type")),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Date")),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Actions"))),r.a.createElement("hr",null),r.a.createElement("div",null,t))}}]),t}(n.Component),M=Object(C.b)(function(e){return{files:e.files.files,error:e.files.error,loggedIn:e.user.loggedIn,token:e.user.token}},{fetchFiles:function(e){return function(){var t=Object(p.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("http://localhost:5000/files",{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=t.sent,a({type:"FETCH_FILES",payload:n.data.files}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"FILE_ERROR"});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deleteFile:function(e,t){return function(){var a=Object(p.a)(u.a.mark(function a(n){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.delete("http://localhost:5000/files/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 3:n({type:"DELETE_FILE",payload:t}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"FILE_ERROR",payload:a.t0});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},userLogout:b,emptyFile:y,createFile:function(e,t){return function(){var a=Object(p.a)(u.a.mark(function a(n){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.post("http://localhost:5000/files",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}});case 3:r=a.sent,n({type:"NEW_FILE",payload:r.data.files}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"FILE_ERROR",payload:a.t0});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(B),G=function(){return function(e){e({type:"EMPTY_IMAGE"})}},P=a(167),H=a(171),W=function(e){_.a.init({duration:1e3});var t=e.image.type.slice(e.image.type.indexOf("/")+1,e.image.type.length),a=r.a.createElement(P.a,{id:"popover-basic"},r.a.createElement(P.a.Title,{as:"h3"},"Info"),r.a.createElement(P.a.Content,null,r.a.createElement("p",null,"Size: ",(e.image.size/1e6).toFixed(2)+" mb"),r.a.createElement("p",null,"Type: ",t.toUpperCase()),r.a.createElement("p",null,"Date:  ",new Date(e.image.createdAt).toDateString())));return r.a.createElement(H.a,{trigger:"hover",placement:"bottom",overlay:a},r.a.createElement(O.a,{className:"my-5 mx-3","data-aos":"zoom-in",style:{minHeight:"400px"}},r.a.createElement(O.a.Img,{src:"http://localhost:5000/".concat(e.image.location),style:{minHeight:"200px"}}),r.a.createElement(O.a.Header,null,e.image.name),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null),r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"outline-success",onClick:function(){e.download(e.image._id,e.image.name)}},r.a.createElement("i",{className:"material-icons"},"arrow_downward")),r.a.createElement(j.a,{variant:"outline-danger",onClick:function(){e.delete(e.image._id,e.image.name)}},r.a.createElement("i",{className:"material-icons"},"delete"))))))},X=function(e){var t=Object(T.a)({accept:"image/* , video/*",multiple:!0}),a=t.acceptedFiles,n=t.rejectedFiles,l=t.getRootProps,c=t.getInputProps,o=r.a.useState(!1),i=Object(S.a)(o,2),s=i[0],m=i[1],d=function(){var t=Object(p.a)(u.a.mark(function t(r){var l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=new FormData,r.forEach(function(e){l.append("images",e)}),e.upload(l),a.length=0,n.length=0,m(!1);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(u.a.mark(function e(t,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.length=0,n.length=0,m(!1);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),f=a.map(function(e){return r.a.createElement(L.a.Item,{variant:"primary",key:e.name},e.name," Accepted")}),E=n.map(function(e){return r.a.createElement(L.a.Item,{variant:"danger",key:e.name},e.name," Rejected")});return r.a.createElement("div",null,r.a.createElement(j.a,{variant:"outline-light",style:{borderRadius:"25px"},onClick:function(){m(!0)}},"Upload"),r.a.createElement(A.a,{show:s,onHide:h,centered:!0},r.a.createElement(A.a.Header,null,r.a.createElement("h2",null,"Upload")),r.a.createElement(A.a.Body,null,r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("div",Object.assign({},l({className:"dropzone"}),{style:{height:"200px",border:"4px dashed lightblue",borderRadius:"25px"}}),r.a.createElement("input",c()),r.a.createElement("i",{className:"material-icons",style:{fontSize:"100px",marginLeft:"175px",marginTop:"45px"}},"cloud_upload")),r.a.createElement("div",{className:"my-1"},r.a.createElement(L.a,null,f)),r.a.createElement("div",null,r.a.createElement(L.a,{className:"my-1"},E))))),r.a.createElement(A.a.Footer,null,r.a.createElement(x.a,null,r.a.createElement(j.a,{variant:"primary",onClick:function(){d(a,n)}},"Upload"),r.a.createElement(j.a,{variant:"danger",onClick:function(){h(a,n)}},"Cancel")))))},Y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleDownload=function(){var e=Object(p.a)(u.a.mark(function e(t,n){var r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/images/".concat(t),{headers:{Authorization:"Bearer ".concat(a.props.token)}});case 3:r=e.sent,l=r.blob(),F()(l,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleUpload=function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.createImage(a.props.token,t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(p.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{window.confirm("Do you want to delete this file: ",{name:n})&&a.props.deleteImage(a.props.token,t)}catch(r){console.log(r)}case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.props.loggedIn?(this.props.fetchImages(this.props.token),this.props.error&&(this.props.emptyImage(),this.props.userLogout(),this.props.history.push("/"))):this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=[];this.props.error||(t=this.props.images.map(function(t){return r.a.createElement(k.a,{xs:12,md:6,xl:4},r.a.createElement(W,{image:t,key:t._id,download:e.handleDownload,delete:e.handleDelete}))}));return r.a.createElement("div",null,r.a.createElement(U.a,{bg:"primary",variant:"dark",className:"my-5",style:{borderRadius:"25px"}},r.a.createElement(U.a.Brand,null,"Images"),r.a.createElement(U.a.Toggle,null),r.a.createElement(U.a.Collapse,{className:"justify-content-end"},r.a.createElement(z.a,{inline:!0},r.a.createElement(X,{upload:this.handleUpload})))),r.a.createElement(w.a,null,t))}}]),t}(n.Component),q=Object(C.b)(function(e){return{images:e.images.images,error:e.images.error,loggedIn:e.user.loggedIn,token:e.user.token}},{fetchImages:function(e){return function(){var t=Object(p.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("http://localhost:5000/images",{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=t.sent,a({type:"FETCH_IMAGES",payload:n.data.images}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"IMAGE_ERROR"});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deleteImage:function(e,t){return function(){var a=Object(p.a)(u.a.mark(function a(n){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.delete("http://localhost:5000/images/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 3:n({type:"DELETE_IMAGE",payload:t}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"IMAGE_ERROR",payload:a.t0});case 9:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()},userLogout:b,emptyImage:G,createImage:function(e,t){return function(){var a=Object(p.a)(u.a.mark(function a(n){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.post("http://localhost:5000/images",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}});case 3:r=a.sent,n({type:"NEW_IMAGE",payload:r.data.images}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"IMAGE_ERROR",payload:a.t0});case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(Y),J=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"25%",marginLeft:"25%",marginRight:"25%"},className:"text-center"},r.a.createElement("h1",{style:{fontSize:100}},"404"))}}]),t}(n.Component),V=a(41),$=a(168),K=a(161),Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(V.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleClick",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to log out?")){e.next=8;break}return e.next=4,this.props.emptyFile();case 4:return e.next=6,this.props.emptyImage();case 6:this.props.userLogout(),this.props.history.push("/");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user.loggedIn?r.a.createElement(U.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement($.a,{className:"mr-auto"},r.a.createElement($.a.Link,{href:"/files"},"Files"),r.a.createElement($.a.Link,{href:"/images"},"Images")),r.a.createElement(H.a,{trigger:"click",placement:"bottom",overlay:r.a.createElement(P.a,null,r.a.createElement(P.a.Title,{as:"h3"},"Signed In As ",this.props.user.username),r.a.createElement(P.a.Content,null,r.a.createElement(j.a,{variant:"outline-primary",block:!0,onClick:this.handleClick},"Sign Out")))},r.a.createElement(K.a,{src:this.props.user.pic,rounded:!0,style:{width:"60px",height:"auto"}}))):r.a.createElement("div",null),t=this.props.user.loggedIn?r.a.createElement(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}):r.a.createElement("div",null);return r.a.createElement(U.a,{bg:"light",expand:"lg"},r.a.createElement(U.a.Brand,{href:"/"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"40px"}},"cloud_queue")),r.a.createElement($.a.Link,{href:"/about"},"About"),t,e)}}]),t}(n.Component),Z=Object(i.f)(Object(C.b)(function(e){return{user:e.user}},{userLogout:b,emptyFile:y,emptyImage:G})(Q)),ee=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){_.a.init({duration:1e3});return r.a.createElement("div",{style:{marginTop:"75px"},"data-aos":"zoom-in"},r.a.createElement("h1",null,"About this Application"),r.a.createElement("hr",null),r.a.createElement("h4",{className:"my-2"},"This is a cloud platform application that allows a user to to upload and download files and images"),r.a.createElement("h2",{className:"mt-5"},"Frontend"),r.a.createElement("hr",null),r.a.createElement("h4",null,"The frontend of this application i built using ",r.a.createElement("b",null,"React")," as the framework and ",r.a.createElement("b",null,"Redux")," as the state management tool"),r.a.createElement("h2",{className:"mt-5"},"Backend"),r.a.createElement("hr",null),r.a.createElement("h4",null,"The backend of this application i built using ",r.a.createElement("b",null,"Node js")," to build a secure ",r.a.createElement("b",null,"REST API")," with ",r.a.createElement("b",null,"Json Web Tokens")," and ",r.a.createElement("b",null,"Mongo DB")," as my database"),r.a.createElement("h2",{className:"mt-5"},"Git Links"),r.a.createElement("hr",null),r.a.createElement("h5",null,r.a.createElement("a",{href:"https://gitlab.com/ismael101/cloud-platform-frontend"},"Frontend")),r.a.createElement("h5",null,r.a.createElement("a",{href:"https://gitlab.com/ismael101/cloud-platform-backend"},"Backend")))}}]),t}(n.Component),te=a(163),ae=a(103),ne=a(22),re=a(104),le=a(47),ce={files:[],error:!1},oe=a(60);function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach(function(t){Object(oe.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ue={images:[],error:!1},pe={username:"",token:"",pic:"",loggedIn:"",error:!1},me=Object(ne.c)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FILES":return{files:t.payload,error:!1};case"NEW_FILE":return{files:[].concat(Object(le.a)(e.files),Object(le.a)(t.payload))};case"DELETE_FILE":var a=e.files.filter(function(e){return e._id!==t.payload});return{files:a};case"FILE_ERROR":return{error:!0};case"EMPTY_FILE":return{files:[]};default:return e}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGES":return{images:t.payload,error:!1};case"NEW_IMAGE":return se({},e,{images:[].concat(Object(le.a)(e.images),Object(le.a)(t.payload))});case"DELETE_IMAGE":var a=e.images.filter(function(e){return e._id!==t.payload});return{images:a};case"IMAGE_ERROR":return{error:!0};case"EMPTY_IMAGE":return{images:[]};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return{username:t.payload.username,token:t.payload.token,pic:t.payload.pic,loggedIn:!0,error:!1};case"USER_LOGOUT":return{username:"",token:"",pic:"",loggedIn:!1,error:!1};case"USER_ERROR":return{error:!0};default:return e}}}),de=a(75),he=a(105),fe=a.n(he),Ee={},ge=[re.a],ve={key:"root",storage:fe.a},ye=Object(de.a)(ve,me),be=function(){var e=Object(ne.e)(ye,Ee,Object(ne.d)(ne.a.apply(void 0,ge),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));return{store:e,persistor:Object(de.b)(e)}},Oe=a(162),we=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={username:"",password:""},a.onChange=a.onChange.bind(Object(V.a)(a)),a.onSubmit=a.onSubmit.bind(Object(V.a)(a)),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"onChange",value:function(e){this.setState(Object(oe.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("button clicked"),t.preventDefault(),a={username:this.state.username,password:this.state.password},e.prev=3,e.next=6,this.props.userLogin(a);case 6:this.props.error?this.setState({username:"",password:""}):this.props.history.push("/files"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:case"end":return e.stop()}},e,this,[[3,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.props.loggedIn&&this.props.history.push("/files")}},{key:"render",value:function(){var e=this,t=this.props.error?r.a.createElement(Oe.a,{variant:"danger",className:"mt-5"},"Authentication Error"):r.a.createElement("div",null);_.a.init({duration:1e3});return r.a.createElement("div",{style:{maxWidth:"500px",marginTop:"15%",marginLeft:"25%",marginRight:"25%",textAlign:"center"},"data-aos":"zoom-in"},r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"text-center mb-1"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"200px"}},"person_outline")),r.a.createElement(z.a,{onSubmit:this.onSubmit},r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Control,{type:"text",value:this.state.username,placeholder:"Enter Username",name:"username",required:!0,onChange:function(t){e.onChange(t)}})),r.a.createElement(z.a.Group,null,r.a.createElement(z.a.Control,{type:"password",value:this.state.password,placeholder:"Enter Password",name:"password",required:!0,onChange:function(t){e.onChange(t)}})),r.a.createElement(j.a,{variant:"primary",type:"submit",block:!0},"Submit")),r.a.createElement("h5",{className:"mt-5"},"Username: ",r.a.createElement("b",null,"ismael101")," Password: ",r.a.createElement("b",null,"password101")),t))}}]),t}(n.Component),ke=Object(C.b)(function(e){return{error:e.user.error,loggedIn:e.user.loggedIn,token:e.user.token}},{userLogin:function(e){return function(){var t=Object(p.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("http://localhost:5000/users/login",e);case 3:n=t.sent,a({type:"USER_LOGIN",payload:{username:e.username,token:n.data.token,pic:n.data.profilepic}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"USER_ERROR"});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(we);var xe=function(){var e=be(),t=e.persistor,a=e.store;return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(C.a,{store:a},r.a.createElement(ae.a,{loading:null,persistor:t},r.a.createElement(Z,null),r.a.createElement(te.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:ke}),r.a.createElement(i.a,{path:"/files",component:M}),r.a.createElement(i.a,{path:"/images",component:q}),r.a.createElement(i.a,{path:"/about",component:ee}),r.a.createElement(i.a,{path:"*",component:J})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[107,1,2]]]);
//# sourceMappingURL=main.38e6e079.chunk.js.map